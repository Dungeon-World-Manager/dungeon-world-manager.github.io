"use strict";(self.webpackChunkdungeon_world_manager=self.webpackChunkdungeon_world_manager||[]).push([[675],{6363:function(e,a,n){n.r(a),n.d(a,{default:function(){return d}});var t=n(7294),r=n(9515),l=n(7365),c=n(5861),u=n(7757),s=n.n(u),i=n(5444),o=n(6341),m=n(8642),p=function(e){var a=e.characterSubmit,n=t.useState(!1),u=n[0],p=n[1],d=t.useContext(l.Z).classes,f=(0,t.useState)({name:"",description:"",class:"",race:"",baseDamage:"",baseHp:""}),h=f[0],b=f[1];function v(){return(v=(0,c.Z)(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.prev=3,e.next=6,(0,r.k)();case 6:a=e.sent,d.loadPublicClasses(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}t.useEffect((function(){!function(){v.apply(this,arguments)}()}));var E=(0,t.useState)({id:""}),C=E[0],Z=E[1],g=(0,t.useState)({name:""}),k=g[0],w=g[1],S=d.publicClasses.map((function(e){return{text:e.name,value:e.id}})),x=[];function y(e,a){var n=a.name,t=a.value,r=Object.assign({},h);r[n]=t,b(r)}return t.createElement(t.Fragment,null,t.createElement(o.Z,null,t.createElement(o.Z.Group,{widths:"equal"},t.createElement(o.Z.Input,{label:"Character name:",id:"charactername",name:"name",value:h.name,onChange:y}),t.createElement(o.Z.TextArea,{label:"Character Description:",id:"characterDescription",name:"description",value:h.description,onChange:y})),t.createElement(o.Z.Group,{widths:"equal"},t.createElement(o.Z.Select,{label:"Select Class:",options:S,name:"class",value:S.name,onChange:function(e,a){a.name;var n=a.value;Z(null!=n?n:""),x=C.races.map((function(e){return{text:e.name,value:e.id}})),console.log(d.publicClasses.find((function(e){return e.id===n})))}})),t.createElement(o.Z.Field,null,t.createElement(i.Link,{to:"/classes"},"Create a new class")),t.createElement(o.Z.Group,{widths:"equal"},t.createElement(o.Z.Select,{label:"Select Race:",options:x,name:"race",value:k.name,onChange:function(e,a){a.name;var n,t=a.value;w(null!==(n=C.races.find((function(e){return e.id===t})))&&void 0!==n?n:"")}})),t.createElement(o.Z.Group,{widths:"equal"},t.createElement(o.Z.Input,{type:"number",label:"Base HP",name:"baseHp",value:h.baseHp,onChange:y}),t.createElement(o.Z.Input,{type:"number",label:"Base Damage",name:"baseDamage",value:h.baseDamage,onChange:y})),t.createElement(o.Z.Group,{widths:"equal"},t.createElement(o.Z.Field,null,t.createElement(m.Z,{color:"green",icon:"plus",content:"Add Character",fluid:!0,as:i.Link,to:"/characters",onClick:function(){return a(h)}})),t.createElement(o.Z.Field,null,t.createElement(m.Z,{type:"button",as:i.Link,to:"/characters",content:"Cancel",fluid:!0})))))},d=function(){var e=t.useContext(l.Z).auth;return t.createElement(t.Fragment,null,t.createElement(p,{characterSubmit:function(a){a.userId=e.user.id,a.userName=e.user.userName,(0,r.y8)(a)}}))}}}]);
//# sourceMappingURL=component---src-pages-characters-new-js-b02afea3442fa9fe0f3a.js.map